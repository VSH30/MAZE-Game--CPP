#include<iostream>
#include<conio.h>

using namespace std;

const int r=15, c=21, START=105, END=41;
int pos=START;

string head = "----------------------- ALL GOOD!!!! -------------------------";

char arr[r][c] = {
    '#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#',
    '#',' ',' ',' ',' ',' ','#',' ',' ',' ',' ',' ',' ',' ',' ',' ','#',' ',' ',' ',' ',
    '#',' ','#','#','#',' ','#',' ','#','#','#','#','#',' ','#','#','#',' ','#','#','#',
    '#',' ',' ',' ','#',' ','#',' ',' ',' ','#',' ',' ',' ',' ',' ','#',' ',' ',' ','#',
    '#','#','#',' ','#',' ','#','#','#',' ','#',' ','#','#','#',' ','#',' ',' ',' ','#',
    'O',' ',' ',' ','#',' ',' ',' ',' ',' ','#',' ',' ',' ','#',' ',' ',' ',' ',' ','#',
    '#',' ','#','#','#','#','#',' ','#','#','#','#','#',' ','#','#','#',' ',' ',' ','#',
    '#',' ','#',' ',' ',' ',' ',' ','#',' ',' ',' ','#',' ',' ',' ','#',' ','#','#','#',
    '#','#','#',' ','#','#','#','#','#',' ','#',' ','#',' ','#','#','#',' ',' ',' ','#',
    '#',' ',' ',' ','#',' ',' ',' ','#',' ','#',' ',' ',' ',' ',' ','#',' ',' ',' ','#',
    '#',' ','#','#','#',' ','#',' ','#',' ','#','#','#','#','#',' ','#','#','#','#','#',
    '#',' ',' ',' ','#',' ','#',' ',' ',' ','#',' ','#',' ',' ',' ','#',' ',' ',' ','#',
    '#','#','#',' ','#',' ','#',' ','#','#','#',' ','#',' ','#','#','#',' ','#',' ','#',
    '#',' ',' ',' ',' ',' ','#',' ',' ',' ',' ',' ','#',' ',' ',' ',' ',' ','#',' ','#',
    '#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#',
};

void disp(){
    system("CLS");
    cout<<endl<<"~~~~~~~~~~~~~~~~~~~~~~~~~ VSH's MAZE ~~~~~~~~~~~~~~~~~~~~~~~~~"<<endl<<endl;
    cout<<" W = Move UP || S = Move DOWN || A = Move LEFT || D = Move RIGHT"<<endl<<endl;
    for(int i=0;i<r;i++){
        for(int j=0;j<c;j++){
            cout<<" "<<arr[i][j];
        }
        cout<<endl;
    }
    cout<<endl<<endl<<head<<endl;
}

int game(){
    return(pos == END)?0:1;
}

void move(int x){
    int row = (pos+x)/21, col = (pos+x)%21;
    if(arr[row][col] == ' '){
        arr[pos/21][pos%21] = ' ';
        arr[row][col] = 'O';
        pos += x;
        head = "----------------------- ALL GOOD!!!! -------------------------";
    }else{
        head = "----------------------- WALL AHEAD!!! ------------------------";
    }
}

int main(){
    do{
        disp();
        switch(getch()){
            case 'w':case 'W':   move(-21);  break;
            case 's':case 'S':   move(21);   break;
            case 'd':case 'D':   move(1);    break;
            case 'a':case 'A':   move(-1);   break;
            default:    head = "---------------------- INVALID MOVE!!! -----------------------";    break;
        }
    }while(game());

    if(game()==0)
        head = "------------------------ COMPLETED!!! ------------------------";

    disp();
    
    return 0;
}
